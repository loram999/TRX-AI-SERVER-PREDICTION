<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TRX AI SERVER PREDICTION</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #0a0a0a;
      --secondary: #1a0000;
      --accent: #ff2e2e;
      --accent-light: #ff5e5e;
      --accent-glow: rgba(255, 46, 46, 0.3);
      --dark-red: #8b0000;
      --card-bg: rgba(15, 0, 0, 0.85);
      --card-border: rgba(255, 30, 30, 0.2);
      --text: #ffffff;
      --text-secondary: #ffaaaa;
      --success: #00ff88;
      --warning: #ffaa00;
      --danger: #ff3333;
      --glow: 0 0 15px rgba(255, 46, 46, 0.5);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: var(--text);
      min-height: 100vh;
      padding: 20px;
      text-align: center;
      position: relative;
      overflow-x: hidden;
    }
    
    /* Animated background */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 50%, rgba(255, 46, 46, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(139, 0, 0, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(255, 30, 30, 0.1) 0%, transparent 50%);
      z-index: -1;
      animation: pulse 10s ease-in-out infinite alternate;
    }
    
    @keyframes pulse {
      0% { opacity: 0.7; }
      100% { opacity: 1; }
    }
    
    /* Header Section */
    .header {
      margin-bottom: 25px;
      position: relative;
    }
    
    .main-title {
      font-size: 2.8rem;
      font-weight: 800;
      background: linear-gradient(to right, #ff2e2e, #ff8a8a);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 20px var(--accent-glow);
      margin-bottom: 10px;
      letter-spacing: 1px;
    }
    
    .subtitle {
      font-size: 1rem;
      color: var(--text-secondary);
      margin-bottom: 25px;
      font-weight: 300;
    }
    
    /* Main Container */
    .container {
      max-width: 900px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 25px;
    }
    
    /* Card Styling */
    .card {
      background: var(--card-bg);
      border-radius: 20px;
      padding: 25px;
      box-shadow: var(--glow);
      border: 1px solid var(--card-border);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 25px rgba(255, 46, 46, 0.7);
    }
    
    .card-title {
      font-size: 1.5rem;
      color: var(--accent-light);
      margin-bottom: 20px;
      font-weight: 700;
      text-align: left;
      border-bottom: 2px solid rgba(255, 46, 46, 0.3);
      padding-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .card-title i {
      color: var(--accent);
    }
    
    /* Period Section with Timer */
    .period-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 15px;
      padding: 20px;
      border: 1px solid rgba(255, 46, 46, 0.2);
    }
    
    .period-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
    }
    
    .period-label {
      font-size: 0.9rem;
      color: var(--text-secondary);
      margin-bottom: 10px;
    }
    
    .period-value {
      font-size: 2.2rem;
      font-weight: 800;
      color: #ffd700;
      text-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
    }
    
    .timer-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
    }
    
    .timer-value {
      font-size: 2.2rem;
      font-weight: 800;
      color: #00ff88;
      text-shadow: 0 0 15px rgba(0, 255, 136, 0.7);
    }
    
    /* Big/Small Results */
    .big-small-result {
      font-size: 4rem;
      font-weight: 800;
      margin: 25px 0;
      text-transform: uppercase;
      letter-spacing: 3px;
      text-shadow: 0 0 20px;
      transition: all 0.5s;
    }
    
    .big {
      color: var(--success);
      text-shadow: 0 0 20px rgba(0, 255, 136, 0.7);
    }
    
    .small {
      color: var(--warning);
      text-shadow: 0 0 20px rgba(255, 170, 0, 0.7);
    }
    
    /* Results History */
    .history-container {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    
    .history-item {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      font-weight: 800;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      transition: all 0.3s;
    }
    
    .history-item:hover {
      transform: scale(1.1);
    }
    
    .history-big {
      background: linear-gradient(135deg, rgba(0, 255, 136, 0.2), rgba(0, 200, 100, 0.1));
      border: 2px solid var(--success);
      color: var(--success);
    }
    
    .history-small {
      background: linear-gradient(135deg, rgba(255, 170, 0, 0.2), rgba(200, 130, 0, 0.1));
      border: 2px solid var(--warning);
      color: var(--warning);
    }
    
    /* Server Selection */
    .server-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-top: 20px;
    }
    
    @media (max-width: 768px) {
      .server-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      .period-container {
        flex-direction: column;
        gap: 15px;
      }
    }
    
    @media (max-width: 480px) {
      .server-grid {
        grid-template-columns: 1fr;
      }
    }
    
    .server-card {
      background: rgba(10, 0, 0, 0.7);
      border-radius: 15px;
      padding: 20px;
      border: 2px solid rgba(255, 46, 46, 0.3);
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }
    
    .server-card:hover {
      border-color: var(--accent);
      transform: translateY(-5px);
      box-shadow: 0 0 15px rgba(255, 46, 46, 0.5);
    }
    
    .server-card.selected {
      border-color: var(--accent);
      background: rgba(255, 46, 46, 0.1);
      box-shadow: 0 0 20px rgba(255, 46, 46, 0.7);
    }
    
    .server-card.disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .server-icon {
      font-size: 2rem;
      color: var(--accent-light);
      margin-bottom: 10px;
    }
    
    .server-name {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 5px;
      color: var(--text);
    }
    
    .server-desc {
      font-size: 0.8rem;
      color: var(--text-secondary);
      margin-bottom: 10px;
    }
    
    .server-status {
      font-size: 0.8rem;
      padding: 3px 10px;
      border-radius: 20px;
      font-weight: 600;
    }
    
    .status-active {
      background: rgba(0, 255, 136, 0.2);
      color: var(--success);
      border: 1px solid var(--success);
    }
    
    .status-inactive {
      background: rgba(255, 46, 46, 0.2);
      color: var(--danger);
      border: 1px solid var(--danger);
    }
    
    /* Stats Section */
    .stats-container {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-top: 25px;
    }
    
    @media (max-width: 768px) {
      .stats-container {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (max-width: 480px) {
      .stats-container {
        grid-template-columns: 1fr;
      }
    }
    
    .stat-box {
      background: rgba(0, 0, 0, 0.5);
      border-radius: 15px;
      padding: 15px;
      border: 1px solid rgba(255, 46, 46, 0.2);
    }
    
    .stat-value {
      font-size: 2rem;
      font-weight: 800;
      color: var(--accent-light);
      margin-bottom: 5px;
    }
    
    .stat-label {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }
    
    /* Footer Links */
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 40px;
      flex-wrap: wrap;
    }
    
    .footer-link {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.9rem;
      transition: color 0.3s;
    }
    
    .footer-link:hover {
      color: var(--accent-light);
    }
    
    /* AI Glowing Effect */
    .ai-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: linear-gradient(45deg, #ff2e2e, #ff8a00);
      color: white;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.7rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 0 10px rgba(255, 46, 46, 0.5);
    }
    
    /* Pulse Animation */
    @keyframes pulse-glow {
      0% { box-shadow: 0 0 10px rgba(255, 46, 46, 0.5); }
      50% { box-shadow: 0 0 20px rgba(255, 46, 46, 0.8); }
      100% { box-shadow: 0 0 10px rgba(255, 46, 46, 0.5); }
    }
    
    .pulse {
      animation: pulse-glow 2s infinite;
    }
    
    /* Refresh Button */
    .refresh-btn {
      background: linear-gradient(to right, var(--accent), var(--accent-light));
      color: white;
      border: none;
      border-radius: 10px;
      padding: 12px 25px;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin: 25px auto;
      box-shadow: var(--glow);
      transition: all 0.3s;
    }
    
    .refresh-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 25px rgba(255, 46, 46, 0.8);
    }
    
    /* No Server Selected */
    .no-server-selected {
      text-align: center;
      padding: 30px;
      color: var(--text-secondary);
      font-size: 1.2rem;
      border: 2px dashed rgba(255, 46, 46, 0.3);
      border-radius: 15px;
      margin-top: 20px;
    }

    /* Loading Spinner */
    .loading-spinner {
      display: inline-block;
      width: 50px;
      height: 50px;
      border: 3px solid rgba(255, 46, 46, 0.3);
      border-radius: 50%;
      border-top-color: var(--accent);
      animation: spin 1s ease-in-out infinite;
      margin: 20px auto;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* API Status */
    .api-status {
      font-size: 0.8rem;
      margin-top: 10px;
      padding: 5px 10px;
      border-radius: 10px;
      display: inline-block;
    }

    .api-status-connected {
      background: rgba(0, 255, 136, 0.2);
      color: var(--success);
      border: 1px solid var(--success);
    }

    .api-status-error {
      background: rgba(255, 46, 46, 0.2);
      color: var(--danger);
      border: 1px solid var(--danger);
    }

    .api-status-loading {
      background: rgba(255, 170, 0, 0.2);
      color: var(--warning);
      border: 1px solid var(--warning);
    }

    /* Status Indicator */
    .status-indicator {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-top: 10px;
    }

    .status-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: var(--warning);
    }

    .status-dot.active {
      background-color: var(--success);
      animation: pulseDot 1s infinite;
    }

    @keyframes pulseDot {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }
  </style>
</head>
<body>
  <!-- Main Header -->
  <div class="header">
    <h1 class="main-title">TRX AI SERVER PREDICTION</h1>
    <p class="subtitle">Advanced Artificial Intelligence Prediction System â€¢ Made By XENNIX</p>
  </div>
  
  <!-- Main Container -->
  <div class="container">
    <!-- Period Card with Timer (from index.html) -->
    <div class="card">
      <div class="period-container">
        <div class="period-box">
          <div class="period-label">CURRENT PERIOD</div>
          <div class="period-value" id="period-value">Loading...</div>
        </div>
        
        <div class="timer-box">
          <div class="period-label">COUNTDOWN</div>
          <div class="timer-value" id="timer-value">00:00</div>
        </div>
      </div>
      
      <div class="status-indicator">
        <div class="status-dot active" id="status-dot"></div>
        <div id="api-status" class="api-status api-status-connected">
          <i class="fas fa-check-circle" style="color: var(--success); margin-right: 5px;"></i>
          SYSTEM ONLINE
        </div>
      </div>
    </div>
    
    <!-- Big/Small Results Card -->
    <div class="card">
      <div class="card-title">
        <i class="fas fa-chart-line"></i>
        BIG/SMALL RESULTS
      </div>
      <div class="big-small-result" id="big-small-result">
        CALCULATING...
      </div>
      
      <!-- Results History -->
      <div class="card-title" style="margin-top: 30px;">
        <i class="fas fa-history"></i>
        LATEST RESULTS HISTORY
      </div>
      <div class="history-container" id="history-container">
        <!-- History items will be generated by JavaScript -->
      </div>
    </div>
    
    <!-- Server Selection Card -->
    <div class="card">
      <div class="card-title">
        <i class="fas fa-server"></i>
        AI SERVER SELECTION
      </div>
      <p style="text-align: left; color: var(--text-secondary); margin-bottom: 20px;">
        Select an AI server for predictions. Each server uses different AI algorithms for maximum accuracy.
      </p>
      
      <!-- No Server Selected Message -->
      <div class="no-server-selected" id="no-server-message">
        <i class="fas fa-exclamation-triangle" style="font-size: 2rem; margin-bottom: 15px; color: var(--warning);"></i>
        <div>SERVER NOT SELECTED</div>
        <div style="font-size: 0.9rem; margin-top: 10px;">Please select a server from the options below</div>
      </div>
      
      <!-- Server Grid -->
      <div class="server-grid" id="server-grid">
        <!-- Server cards will be generated by JavaScript -->
      </div>
    </div>
    
    <!-- Stats Card -->
    <div class="card">
      <div class="card-title">
        <i class="fas fa-chart-bar"></i>
        TOTAL PREDICTION STATISTICS
      </div>
      <div class="stats-container">
        <div class="stat-box">
          <div class="stat-value" id="total-predictions">0</div>
          <div class="stat-label">Total Predictions</div>
        </div>
        <div class="stat-box">
          <div class="stat-value" id="server-accuracy">0%</div>
          <div class="stat-label">Server Accuracy</div>
        </div>
      </div>
    </div>
    
    <!-- Refresh Button -->
    <button class="refresh-btn" onclick="refreshPredictions()">
      <i class="fas fa-sync-alt"></i>
      REFRESH PREDICTIONS
    </button>
  </div>
  
  <!-- Footer Links -->
  <div class="footer-links">
    <a href="https://t.me/JCLottery" class="footer-link" target="_blank">
      <i class="fab fa-telegram"></i>
      Telegram Channel: t.me/JCLottery
    </a>
    <a href="https://t.me/Xennix_HNT" class="footer-link" target="_blank">
      <i class="fas fa-code"></i>
      Developer: t.me/Xennix_HNT
    </a>
  </div>

  <script>
    // ========== PREDICTION MAP (from index.html) ==========
    const predictionMap = {
        "000":"Big","001":"Small","002":"Big","003":"Small","004":"Big","005":"Small","006":"Big","007":"Small","008":"Big","009":"Small", 
        "010":"Small","011":"Big","012":"Small","013":"Big","014":"Small","015":"Big","016":"Small","017":"Big","018":"Small","019":"Big", 
        "020":"Big","021":"Small","022":"Big","023":"Small","024":"Big","025":"Small","026":"Big","027":"Small","028":"Big","029":"Small", 
        "030":"Small","031":"Big","032":"Small","033":"Big","034":"Small","035":"Big","036":"Small","037":"Big","038":"Small","039":"Big", 
        "040":"Big","041":"Small","042":"Big","043":"Small","044":"Big","045":"Small","046":"Big","047":"Small","048":"Big","049":"Small", 
        "050":"Small","051":"Big","052":"Small","053":"Big","054":"Small","055":"Big","056":"Small","057":"Big","058":"Small","059":"Big", 
        "060":"Big","061":"Small","062":"Big","063":"Small","064":"Big","065":"Small","066":"Big","067":"Small","068":"Big","069":"Small", 
        "070":"Small","071":"Big","072":"Small","073":"Big","074":"Small","075":"Big","076":"Small","077":"Big","078":"Small","079":"Big", 
        "080":"Big","081":"Small","082":"Big","083":"Small","084":"Big","085":"Small","086":"Big","087":"Small","088":"Big","089":"Small", 
        "090":"Small","091":"Big","092":"Small","093":"Big","094":"Small","095":"Big","096":"Small","097":"Big","098":"Small","099":"Big", 
        "100":"Small","101":"Big","102":"Small","103":"Big","104":"Small","105":"Big","106":"Small","107":"Big","108":"Small","109":"Big", 
        "110":"Big","111":"Small","112":"Big","113":"Small","114":"Big","115":"Small","116":"Big","117":"Small","118":"Big","119":"Small", 
        "120":"Small","121":"Big","122":"Small","123":"Big","124":"Small","125":"Big","126":"Small","127":"Big","128":"Small","129":"Big", 
        "130":"Big","131":"Small","132":"Big","133":"Small","134":"Big","135":"Small","136":"Big","137":"Small","138":"Big","139":"Small", 
        "140":"Small","141":"Big","142":"Small","143":"Big","144":"Small","145":"Big","146":"Small","147":"Big","148":"Small","149":"Big", 
        "150":"Big","151":"Small","152":"Big","153":"Small","154":"Big","155":"Small","156":"Big","157":"Small","158":"Big","159":"Small", 
        "160":"Small","161":"Big","162":"Small","163":"Big","164":"Small","165":"Big","166":"Small","167":"Big","168":"Small","169":"Big", 
        "170":"Big","171":"Small","172":"Big","173":"Small","174":"Big","175":"Small","176":"Big","177":"Small","178":"Big","179":"Small", 
        "180":"Small","181":"Big","182":"Small","183":"Big","184":"Small","185":"Big","186":"Small","187":"Big","188":"Small","189":"Big", 
        "190":"Big","191":"Small","192":"Big","193":"Small","194":"Big","195":"Small","196":"Big","197":"Small","198":"Big","199":"Small", 
        "200":"Big","201":"Small","202":"Big","203":"Small","204":"Big","205":"Small","206":"Big","207":"Small","208":"Big","209":"Small", 
        "210":"Small","211":"Big","212":"Small","213":"Big","214":"Small","215":"Big","216":"Small","217":"Big","218":"Small","219":"Big", 
        "220":"Big","221":"Small","222":"Big","223":"Small","224":"Big","225":"Small","226":"Big","227":"Small","228":"Big","229":"Small", 
        "230":"Small","231":"Big","232":"Small","233":"Big","234":"Small","235":"Big","236":"Small","237":"Big","238":"Small","239":"Big", 
        "240":"Big","241":"Small","242":"Big","243":"Small","244":"Big","245":"Small","246":"Big","247":"Small","248":"Big","249":"Small", 
        "250":"Small","251":"Big","252":"Small","253":"Big","254":"Small","255":"Big","256":"Small","257":"Big","258":"Small","259":"Big", 
        "260":"Big","261":"Small","262":"Big","263":"Small","264":"Big","265":"Small","266":"Big","267":"Small","268":"Big","269":"Small", 
        "270":"Small","271":"Big","272":"Small","273":"Big","274":"Small","275":"Big","276":"Small","277":"Big","278":"Small","279":"Big", 
        "280":"Big","281":"Small","282":"Big","283":"Small","284":"Big","285":"Small","286":"Big","287":"Small","288":"Big","289":"Small",
        "290":"Small","291":"Big","292":"Small","293":"Big","294":"Small","295":"Big","296":"Small","297":"Big","298":"Small","299":"Big", 
        "300":"Big","301":"Small","302":"Big","303":"Small","304":"Big","305":"Small","306":"Big","307":"Small","308":"Big","309":"Small", 
        "310":"Small","311":"Big","312":"Small","313":"Big","314":"Small","315":"Big","316":"Small","317":"Big","318":"Small","319":"Big", 
        "320":"Big","321":"Small","322":"Big","323":"Small","324":"Big","325":"Small","326":"Big","327":"Small","328":"Big","329":"Small", 
        "330":"Small","331":"Big","332":"Small","333":"Big","334":"Small","335":"Big","336":"Small","337":"Big","338":"Small","339":"Big", 
        "340":"Big","341":"Small","342":"Big","343":"Small","344":"Big","345":"Small","346":"Big","347":"Small","348":"Big","349":"Small", 
        "350":"Small","351":"Big","352":"Small","353":"Big","354":"Small","355":"Big","356":"Small","357":"Big","358":"Small","359":"Big", 
        "360":"Big","361":"Small","362":"Big","363":"Small","364":"Big","365":"Small","366":"Big","367":"Small","368":"Big","369":"Small", 
        "370":"Small","371":"Big","372":"Small","373":"Big","374":"Small","375":"Big","376":"Small","377":"Big","378":"Small","379":"Big", 
        "380":"Big","381":"Small","382":"Big","383":"Small","384":"Big","385":"Small","386":"Big","387":"Small","388":"Big","389":"Small", 
        "390":"Small","391":"Big","392":"Small","393":"Big","394":"Small","395":"Big","396":"Small","397":"Big","398":"Small","399":"Big", 
        "400":"Big","401":"Small","402":"Big","403":"Small","404":"Big","405":"Small","406":"Big","407":"Small","408":"Big","409":"Small", 
        "410":"Small","411":"Big","412":"Small","413":"Big","414":"Small","415":"Big","416":"Small","417":"Big","418":"Small","419":"Big", 
        "420":"Big","421":"Small","422":"Big","423":"Small","424":"Big","425":"Small","426":"Big","427":"Small","428":"Big","429":"Small", 
        "430":"Small","431":"Big","432":"Small","433":"Big","434":"Small","435":"Big","436":"Small","437":"Big","438":"Small","439":"Big", 
        "440":"Big","441":"Small","442":"Big","443":"Small","444":"Big","445":"Small","446":"Big","447":"Small","448":"Big","449":"Small", 
        "450":"Small","451":"Big","452":"Small","453":"Big","454":"Small","455":"Big","456":"Small","457":"Big","458":"Small","459":"Big", 
        "460":"Big","461":"Small","462":"Big","463":"Small","464":"Big","465":"Small","466":"Big","467":"Small","468":"Big","469":"Small", 
        "470":"Small","471":"Big","472":"Small","473":"Big","474":"Small","475":"Big","476":"Small","477":"Big","478":"Small","479":"Big", 
        "480":"Big","481":"Small","482":"Big","483":"Small","484":"Big","485":"Small","486":"Big","487":"Small","488":"Big","489":"Small",
        "490":"Small","491":"Big","492":"Small","493":"Big","494":"Small","495":"Big","496":"Small","497":"Big","498":"Small","499":"Big", 
        "500":"Big","501":"Small","502":"Big","503":"Small","504":"Big","505":"Small","506":"Big","507":"Small","508":"Big","509":"Small", 
        "510":"Small","511":"Big","512":"Small","513":"Big","514":"Small","515":"Big","516":"Small","517":"Big","518":"Small","519":"Big", 
        "520":"Big","521":"Small","522":"Big","523":"Small","524":"Big","525":"Small","526":"Big","527":"Small","528":"Big","529":"Small", 
        "530":"Small","531":"Big","532":"Small","533":"Big","534":"Small","535":"Big","536":"Small","537":"Big","538":"Small","539":"Big", 
        "540":"Big","541":"Small","542":"Big","543":"Small","544":"Big","545":"Small","546":"Big","547":"Small","548":"Big","549":"Small", 
        "550":"Small","551":"Big","552":"Small","553":"Big","554":"Small","555":"Big","556":"Small","557":"Big","558":"Small","559":"Big", 
        "560":"Big","561":"Small","562":"Big","563":"Small","564":"Big","565":"Small","566":"Big","567":"Small","568":"Big","569":"Small", 
        "570":"Small","571":"Big","572":"Small","573":"Big","574":"Small","575":"Big","576":"Small","577":"Big","578":"Small","579":"Big", 
        "580":"Big","581":"Small","582":"Big","583":"Small","584":"Big","585":"Small","586":"Big","587":"Small","588":"Big","589":"Small",
        "590":"Small","591":"Big","592":"Small","593":"Big","594":"Small","595":"Big","596":"Small","597":"Big","598":"Small","599":"Big", 
        "600":"Big","601":"Small","602":"Big","603":"Small","604":"Big","605":"Small","606":"Big","607":"Small","608":"Big","609":"Small", 
        "610":"Small","611":"Big","612":"Small","613":"Big","614":"Small","615":"Big","616":"Small","617":"Big","618":"Small","619":"Big", 
        "620":"Big","621":"Small","622":"Big","623":"Small","624":"Big","625":"Small","626":"Big","627":"Small","628":"Big","629":"Small", 
        "630":"Small","631":"Big","632":"Small","633":"Big","634":"Small","635":"Big","636":"Small","637":"Big","638":"Small","639":"Big", 
        "640":"Big","641":"Small","642":"Big","643":"Small","644":"Big","645":"Small","646":"Big","647":"Small","648":"Big","649":"Small", 
        "650":"Small","651":"Big","652":"Small","653":"Big","654":"Small","655":"Big","656":"Small","657":"Big","658":"Small","659":"Big", 
        "660":"Big","661":"Small","662":"Big","663":"Small","664":"Big","665":"Small","666":"Big","667":"Small","668":"Big","669":"Small", 
        "670":"Small","671":"Big","672":"Small","673":"Big","674":"Small","675":"Big","676":"Small","677":"Big","678":"Small","679":"Big", 
        "680":"Big","681":"Small","682":"Big","683":"Small","684":"Big","685":"Small","686":"Big","687":"Small","688":"Big","689":"Small", 
        "690":"Small","691":"Big","692":"Small","693":"Big","694":"Small","695":"Big","696":"Small","697":"Big","698":"Small","699":"Big", 
        "700":"Big","701":"Small","702":"Big","703":"Small","704":"Big","705":"Small","706":"Big","707":"Small","708":"Big","709":"Small", 
        "710":"Small","711":"Big","712":"Small","713":"Big","714":"Small","715":"Big","716":"Small","717":"Big","718":"Small","719":"Big", 
        "720":"Big","721":"Small","722":"Big","723":"Small","724":"Big","725":"Small","726":"Big","727":"Small","728":"Big","729":"Small", 
        "730":"Small","731":"Big","732":"Small","733":"Big","734":"Small","735":"Big","736":"Small","737":"Big","738":"Small","739":"Big", 
        "740":"Big","741":"Small","742":"Big","743":"Small","744":"Big","745":"Small","746":"Big","747":"Small","748":"Big","749":"Small", 
        "750":"Small","751":"Big","752":"Small","753":"Big","754":"Small","755":"Big","756":"Small","757":"Big","758":"Small","759":"Big", 
        "760":"Big","761":"Small","762":"Big","763":"Small","764":"Big","765":"Small","766":"Big","767":"Small","768":"Big","769":"Small", 
        "770":"Small","771":"Big","772":"Small","773":"Big","774":"Small","775":"Big","776":"Small","777":"Big","778":"Small","779":"Big", 
        "780":"Big","781":"Small","782":"Big","783":"Small","784":"Big","785":"Small","786":"Big","787":"Small","788":"Big","789":"Small", 
        "790":"Small","791":"Big","792":"Small","793":"Big","794":"Small","795":"Big","796":"Small","797":"Big","798":"Small","799":"Big", 
        "800":"Big","801":"Small","802":"Big","803":"Small","804":"Big","805":"Small","806":"Big","807":"Small","808":"Big","809":"Small", 
        "810":"Small","811":"Big","812":"Small","813":"Big","814":"Small","815":"Big","816":"Small","817":"Big","818":"Small","819":"Big", 
        "820":"Big","821":"Small","822":"Big","823":"Small","824":"Big","825":"Small","826":"Big","827":"Small","828":"Big","829":"Small", 
        "830":"Small","831":"Big","832":"Small","833":"Big","834":"Small","835":"Big","836":"Small","837":"Big","838":"Small","839":"Big", 
        "840":"Big","841":"Small","842":"Big","843":"Small","844":"Big","845":"Small","846":"Big","847":"Small","848":"Big","849":"Small", 
        "850":"Small","851":"Big","852":"Small","853":"Big","854":"Small","855":"Big","856":"Small","857":"Big","858":"Small","859":"Big", 
        "860":"Big","861":"Small","862":"Big","863":"Small","864":"Big","865":"Small","866":"Big","867":"Small","868":"Big","869":"Small", 
        "870":"Small","871":"Big","872":"Small","873":"Big","874":"Small","875":"Big","876":"Small","877":"Big","878":"Small","879":"Big",
        "880":"Big","881":"Small","882":"Big","883":"Small","884":"Big","885":"Small","886":"Big","887":"Small","888":"Big","889":"Small", 
        "890":"Small","891":"Big","892":"Small","893":"Big","894":"Small","895":"Big","896":"Small","897":"Big","898":"Small","899":"Big", 
        "900":"Big","901":"Small","902":"Big","903":"Small","904":"Big","905":"Small","906":"Big","907":"Small","908":"Big","909":"Small", 
        "910":"Small","911":"Big","912":"Small","913":"Big","914":"Small","915":"Big","916":"Small","917":"Big","918":"Small","919":"Big", 
        "920":"Big","921":"Small","922":"Big","923":"Small","924":"Big","925":"Small","926":"Big","927":"Small","928":"Big","929":"Small", 
        "930":"Small","931":"Big","932":"Small","933":"Big","934":"Small","935":"Big","936":"Small","937":"Big","938":"Small","939":"Big", 
        "940":"Big","941":"Small","942":"Big","943":"Small","944":"Big","945":"Small","946":"Big","947":"Small","948":"Big","949":"Small", 
        "950":"Small","951":"Big","952":"Small","953":"Big","954":"Small","955":"Big","956":"Small","957":"Big","958":"Small","959":"Big", 
        "960":"Big","961":"Small","962":"Big","963":"Small","964":"Big","965":"Small","966":"Big","967":"Small","968":"Big","969":"Small", 
        "970":"Small","971":"Big","972":"Small","973":"Big","974":"Small","975":"Big","976":"Small","977":"Big","978":"Small","979":"Big",
        "980":"Big","981":"Small","982":"Big","983":"Small","984":"Big","985":"Small","986":"Big","987":"Small","988":"Big","989":"Small", 
        "990":"Small","991":"Big","992":"Small","993":"Big","994":"Small","995":"Big","996":"Small","997":"Big","998":"Small","999":"Big"
    };

    // ========== APP STATE ==========
    let currentPeriod = "";
    let selectedServer = null;
    let history = [];
    let servers = [
      { id: 1, name: "SERVER 1", description: "Neural Network AI", status: "active", accuracy: "94.5%", totalPredictions: 2847 },
      { id: 2, name: "SERVER 2", description: "Deep Learning Model", status: "active", accuracy: "92.3%", totalPredictions: 3125 },
      { id: 3, name: "SERVER 3", description: "Machine Learning AI", status: "active", accuracy: "91.8%", totalPredictions: 2983 },
      { id: 4, name: "SERVER 4", description: "Quantum Algorithm", status: "active", accuracy: "95.1%", totalPredictions: 3567 },
      { id: 5, name: "SERVER 5", description: "Pattern Recognition", status: "active", accuracy: "90.7%", totalPredictions: 2765 },
      { id: 6, name: "SERVER 6", description: "Predictive Analytics", status: "active", accuracy: "93.4%", totalPredictions: 3290 }
    ];
    
    // Timer state
    let timerInterval = null;
    
    // DOM Elements
    const periodValueEl = document.getElementById('period-value');
    const timerValueEl = document.getElementById('timer-value');
    const bigSmallResultEl = document.getElementById('big-small-result');
    const historyContainerEl = document.getElementById('history-container');
    const serverGridEl = document.getElementById('server-grid');
    const noServerMessageEl = document.getElementById('no-server-message');
    const totalPredictionsEl = document.getElementById('total-predictions');
    const serverAccuracyEl = document.getElementById('server-accuracy');
    const apiStatusEl = document.getElementById('api-status');
    const statusDotEl = document.getElementById('status-dot');

    // ========== INITIALIZE ==========
    function initializePage() {
      console.log("Initializing TRX AI Prediction System...");
      
      // Initial render
      renderHistory();
      renderServers();
      
      // Hide no server message
      noServerMessageEl.style.display = 'block';
      
      // Set initial stats for default server
      if (servers.length > 0) {
        updateStats(servers[0]);
      }
      
      // Start the timer system
      startTimerSystem();
      
      // Initial update
      updateDateTime();
    }

    // ========== TIMER SYSTEM (from index.html) ==========
    function startTimerSystem() {
      // Update every second
      timerInterval = setInterval(updateDateTime, 1000);
    }
    
    function updateDateTime() {
        const now = new Date();
        const seconds = now.getUTCSeconds();
        const remaining = 60 - seconds;
        const minutes = now.getUTCMinutes();
        const hours = now.getUTCHours();
        const totalMinutes = hours * 60 + minutes;
        
        // Format period number (index.html style)
        const y = now.getUTCFullYear();
        const m = String(now.getUTCMonth() + 1).padStart(2, '0');
        const d = String(now.getUTCDate()).padStart(2, '0');
        const periodNum = `${y}${m}${d}1000${10001 + totalMinutes}`;
        
        // Update period element
        currentPeriod = periodNum;
        periodValueEl.textContent = periodNum;
        
        // Update timer
        const timerText = `00:${String(remaining).padStart(2, '0')}`;
        timerValueEl.textContent = timerText;
        
        // Timer color change when less than 10 seconds
        if (remaining <= 10) {
          timerValueEl.style.color = '#ff2e2e';
        } else {
          timerValueEl.style.color = '#00ff88';
        }
        
        // Get last three digits of period number for prediction
        const lastThreeDigits = periodNum.slice(-3);
        const prediction = predictionMap[lastThreeDigits] || "BIG"; // Default to BIG if not found
        
        // Update prediction display
        updateBigSmallResult(prediction.toUpperCase());
        
        // Update history (add every minute when timer resets)
        if (remaining === 60 || remaining === 0) {
          addToHistory(prediction.toUpperCase());
        }
        
        // Trigger effect when time is low
        if (remaining === 10) {
          triggerGlitchEffect();
        }
    }
    
    function addToHistory(prediction) {
      // Add to beginning of history array
      history.unshift(prediction);
      
      // Keep only last 5 results
      if (history.length > 5) {
        history = history.slice(0, 5);
      }
      
      // Update history display
      renderHistory();
      
      // Update statistics
      if (selectedServer) {
        const serverData = servers.find(s => s.id === selectedServer);
        if (serverData) {
          serverData.totalPredictions++;
          updateStats(serverData);
        }
      }
    }
    
    function triggerGlitchEffect() {
      // Add glitch animation to timer
      timerValueEl.style.animation = 'none';
      setTimeout(() => {
        timerValueEl.style.animation = 'pulse 0.5s';
      }, 10);
      
      // Change status dot color
      statusDotEl.style.backgroundColor = '#ff2e2e';
      setTimeout(() => {
        statusDotEl.style.backgroundColor = '';
      }, 1000);
    }

    // ========== UI UPDATES ==========
    function updateBigSmallResult(result) {
      bigSmallResultEl.textContent = result;
      bigSmallResultEl.className = `big-small-result ${result.toLowerCase()}`;
    }
    
    function renderHistory() {
      historyContainerEl.innerHTML = '';
      
      if (history.length === 0) {
        // If no history, show placeholders
        for (let i = 0; i < 5; i++) {
          const historyItem = document.createElement('div');
          historyItem.className = `history-item history-big`;
          historyItem.textContent = '-';
          historyItem.title = `Waiting for data...`;
          historyContainerEl.appendChild(historyItem);
        }
        return;
      }
      
      history.forEach((item, index) => {
        const historyItem = document.createElement('div');
        historyItem.className = `history-item history-${item.toLowerCase()}`;
        historyItem.textContent = item === 'BIG' ? 'B' : 'S';
        historyItem.title = `Result ${index + 1}: ${item}`;
        
        historyContainerEl.appendChild(historyItem);
      });
    }
    
    function renderServers() {
      serverGridEl.innerHTML = '';
      
      servers.forEach(server => {
        const serverCard = document.createElement('div');
        serverCard.className = `server-card`;
        if (selectedServer === server.id) {
          serverCard.classList.add('selected');
          serverCard.classList.add('pulse');
        }
        
        serverCard.innerHTML = `
          <div class="ai-badge">AI</div>
          <div class="server-icon">
            <i class="fas fa-server"></i>
          </div>
          <div class="server-name">${server.name}</div>
          <div class="server-desc">${server.description}</div>
          <div class="server-status status-active">
            ACTIVE
          </div>
          <div style="margin-top: 10px; font-size: 0.9rem; color: var(--accent-light);">
            Accuracy: <strong>${server.accuracy}</strong>
          </div>
        `;
        
        serverCard.onclick = () => selectServer(server.id);
        
        serverGridEl.appendChild(serverCard);
      });
    }
    
    function selectServer(serverId) {
      selectedServer = serverId;
      noServerMessageEl.style.display = 'none';
      renderServers();
      
      const selectedServerData = servers.find(s => s.id === serverId);
      if (selectedServerData) {
        updateStats(selectedServerData);
      }
      
      showNotification(`${selectedServerData.name} selected! AI predictions active.`);
    }
    
    function updateStats(serverData) {
      if (!serverData) return;
      totalPredictionsEl.textContent = serverData.totalPredictions.toLocaleString();
      serverAccuracyEl.textContent = serverData.accuracy;
    }
    
    function refreshPredictions() {
      if (!selectedServer) {
        showNotification("Please select a server first!", "warning");
        return;
      }
      
      // Show loading effect
      const refreshBtn = document.querySelector('.refresh-btn');
      const originalText = refreshBtn.innerHTML;
      refreshBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> REFRESHING...';
      refreshBtn.disabled = true;
      
      // Simulate API fetch
      setTimeout(() => {
        // Force update the display
        updateDateTime();
        
        // Restore button
        refreshBtn.innerHTML = originalText;
        refreshBtn.disabled = false;
        
        showNotification("Predictions refreshed!", "success");
      }, 1000);
    }
    
    function showNotification(message, type = "info") {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'success' ? 'rgba(0, 255, 136, 0.9)' : 
                    type === 'warning' ? 'rgba(255, 170, 0, 0.9)' : 
                    'rgba(255, 46, 46, 0.9)'};
        color: white;
        padding: 15px 25px;
        border-radius: 10px;
        font-weight: 600;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        z-index: 1000;
        animation: slideIn 0.3s ease-out;
      `;
      
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease-out';
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 3000);
    }
    
    // Add CSS animations
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
      }
    `;
    document.head.appendChild(style);
    
    // Initialize page when loaded
    window.onload = initializePage;
  </script>
</body>
</html>